include ../../common-mixins
include ../mixins

+if("storeData")
  +main-section
    +header-wrapper(class="!mb-0")
      +nav-crumbs
        +crumbItemLink("/", "Holdex")
        +crumbDelimiter
        +crumbItemLink("/c", "Studio")
        +crumbDelimiter
        +crumbItemText("{community.name}")
      //- another pages
      +if("community.slug !== 'jobs' && community.slug !== 'learn'")
        +messageHeader("{community.name}", "{community.tagline}")(id="{community.id}")
        //- jobs pages
      +if("community.slug === 'jobs'")
        +section-hero-pages("/headerPages/jobs.png", "/headerPages/effect.png")
          PageTitleImage(id="{community.id}") 
            | {community.name}
            div(
              class="smDown:text-paragraph-l text-h4-l font-normal smDown:text-left text-center mx-auto smDown:mb-0 mb-3"
            ) For passionate enthusiasts who are eager to build our decentralized future!
      //- learn pages
      +if("community.slug === 'learn'")
        +section-hero-pages("/headerPages/learn.png", "/headerPages/effect.png")
          PageTitleImage(id="{community.id}") 
            | {community.name}
            div(class="smDown:text-paragraph-l text-h4-l font-normalsmDown:text-left text-center mx-auto") Crypto beginner guides and battle tested knowledge
      +content-wrapper(class="xs:!px-0")
        +if("community.slug !== 'jobs'")
          +filter-options
        +if("community.hashtags && community.hashtags.totalCount > 0")
          ul.hashtags-list(class="flex items-start gap-3 flex-wrap w-full")
            +each("sortHashtags(community.hashtags.edges) as tag (tag.node.id)")
              Hashtag(
                tag="{'#'}{tag.node.id}"
                class="{isHashtagActive(pageFilter, tag.node.id)}"
                onClick!="{() => handleSort($page.url, tag.node.id.toLowerCase())}"
              )
        +feedRenderer
          Feed(
            feedType="{community.slug === 'jobs' ? 'resource' : 'default'}"
            edges="{edges}"
            totalCount="{totalCount}"
            isRefetching="{isRefetching}"
            pageInfo="{pageInfo}"
            loadMore="{loadMore}"
          )
