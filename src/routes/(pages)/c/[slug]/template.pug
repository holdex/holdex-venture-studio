include ../../common-mixins
include ../mixins

+if("storeData")
  +main-section
    +header-wrapper(class="!mb-0")
      +nav-crumbs
        +crumbItemLink("/", "Holdex")
        +crumbDelimiter
        +crumbItemLink("/c", "Studio")
        +crumbDelimiter
        +crumbItemText("{community.name}")
      +if("community.slug !== 'jobs'")
        +messageHeader("{community.name}", "{community.tagline}")(id="{community.id}")
      +if("community.slug === 'jobs'")
        +if("themeIconName !== 'moon'")
          +section-hero-pages("/headerPages/jobs.png")
            PageTitle(id="{community.id}") 
              | {community.name}
              div(class="text-paragraph-l smDown:text-left text-center mx-auto") For passionate enthusiasts who are eager to build our decentralized future!  
        +if("themeIconName === 'moon'")
            +section-hero-pages()
              PageTitle(id="{community.id}") 
                | {community.name}
      +content-wrapper(class="xs:!px-0")
        +if("community.slug !== 'jobs'")
          +filter-options
        +if("community.hashtags && community.hashtags.totalCount > 0")
          ul.hashtags-list(class="flex items-start gap-3 flex-wrap w-full")
            +each("sortHashtags(community.hashtags.edges) as tag (tag.node.id)")
              Hashtag(
                tag="{'#'}{tag.node.id}"
                class="{isHashtagActive(pageFilter, tag.node.id)}"
                onClick!="{() => handleSort($page.url, tag.node.id.toLowerCase())}"
              )
        +feedRenderer
          Feed(
            feedType="{community.slug === 'jobs' ? 'resource' : 'default'}"
            edges="{edges}"
            totalCount="{totalCount}"
            isRefetching="{isRefetching}"
            pageInfo="{pageInfo}"
            loadMore="{loadMore}"
          )
